---
import type { MarkdownHeading } from 'astro';
import { cn } from '@/utils';

type Props = {
  headings: MarkdownHeading[];
};

const { headings } = Astro.props;
---

<aside
  class={cn(
    'py-4',
    'fixed z-30 hidden h-[calc(100vh-4rem)] w-[150px] overflow-y-hidden text-sm xl:block',
    'bg-neutral-50 dark:bg-neutral-900',
    'flex items-end justify-end',
    'border-none',
  )}
>
  <div class="flex flex-col py-5">
    <h2 class="mb-2 text-sm text-neutral-600 dark:text-neutral-400">
      On this page
    </h2>
    <ul class="flex flex-col overflow-y-auto">
      {
        headings.map((heading) => (
          <a
            href={`#${heading.slug}`}
            title={heading.text}
            class={cn(
              'px-4 py-2 text-sm',
              'border-l border-neutral-200 dark:border-neutral-800 hover:border-neutral-800 dark:hover:border-neutral-200',
              'text-neutral-600 hover:text-black dark:text-neutral-400 dark:hover:text-white',
              'bg-transparent',
            )}
          >
            {heading.text}
          </a>
        ))
      }
    </ul>
  </div>
</aside>
